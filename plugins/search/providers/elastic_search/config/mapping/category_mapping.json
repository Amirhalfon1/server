{
  "settings" : {
	"number_of_shards" : 5,
	"number_of_replicas" : 0,
	"analysis": { //todo - we can move the analyzer to config filebecause he is common for all indices
	  "filter": {
		"trigrams_filter": {
		  "type": "ngram",
		  "min_gram": 3,
		  "max_gram": 3
		}
	  },
	  "analyzer": {
		"trigrams": {
		  "type": "custom",
		  "tokenizer": "standard",
		  "filter": [
			"lowercase",
			"trigrams_filter"
		  ]
		}
	  }
	}
  },
  "mappings" : {
	"category" : {
	  "_source" : {
		"enabled" : true
	  },
	  "properties" : {
		"partner_id" : {
		  "type" : "keyword"
		},
		"status" : {
		  "type" : "keyword"
		},
		"partner_status" : {
		  "type" : "keyword"
		},
		"privacy" : {
		  "type" : "keyword"
		},
		"privacy_context" : {
		  "type" : "keyword"
		},
		"privacy_contexts" : {
		  "type" : "keyword"
		},
		"kuser_ids" : {
		  "type" : "keyword"
		},
		"parent_id" : {
		  "type" : "keyword"
		},
		"depth" : {
		  "type" : "short"
		},
		"name" : {
		  "type" : "text",
		  "fields": {
			"trigrams" : {
			  "type" : "text",
			  "analyzer" : "trigrams"
			},
			"raw" : {
			  "type" : "keyword"
			}
		  }
		},
		"full_name" : {
		  "type" : "text",
		  "fields": {
			"trigrams" : {
			  "type" : "text",
			  "analyzer" : "trigrams"
			},
			"raw" : {
			  "type" : "keyword"
			}
		  }
		},
		"full_ids" : {
		  "type" : "keyword"
		},
		"entries_count" : {
		  "type" : "integer"
		},
		"created_at" : {
		  "type" : "date"
		},
		"updated_at" : {
		  "type" : "date"
		},
		"direct_entries_count" : {
		  "type" : "integer"
		},
		"direct_sub_categories_count" : {
		  "type" : "integer"
		},
		"members_count" : {
		  "type" : "integer"
		},
		"pending_members_count" : {
		  "type" : "integer"
		},
		"pending_entries_count" : {
		  "type" : "integer"
		},
		"description" : {
		  "type" : "text",
		  "fields": {
			"trigrams" : {
			  "type" : "text",
			  "analyzer" : "trigrams"
			},
			"raw" : {
			  "type" : "keyword"
			}
		  }
		},
		"tags" : {
		  "type" : "keyword"
		},
		"display_in_search" : {
		  "type" : "keyword"
		},
		"inheritance_type" : {
		  "type" : "keyword"
		},
		"kuser_id" : {
		  "type" : "keyword"
		},
		"reference_id" : {
		  "type" : "keyword"
		},
		"inherited_parent_id" : {
		  "type" : "keyword"
		},
		"moderation" : {
		  "type" : "keyword"
		},
		"metadata" :{
		  "type"  : "nested",
		  "properties"  : {
			"metadata_id" : {
			  "type" : "keyword"
			},
			"system_name" : {
			  "type" : "keyword"
			},
			"xpath" : {
			  "type" : "keyword"
			},
			"metadata_profile_id" : {
			  "type" : "keyword"
			},
			"systemname_xpath_metadataprofileid" : {
			  "type" : "keyword"
			},
			"metadata_field_id" : {
			  "type" : "long"
			},
			"value_int": {
			  "type": "long"
			},
			"value_text": {
			  "type" : "text",
			  "fields": {
				"trigrams" : {
				  "type" : "text",
				  "analyzer" : "trigrams"
				},
				"raw" : {
				  "type" : "keyword"
				}
			  }
			}
		  }
		}
	  }
	}
  }
}